# empty

fn fun() noreturn {
  switch (a) { }
}

==>
Program(Decl(FnProto(Identifier,
                     ParamDeclList,
                     TypeExpr(Identifier)),
             Block(Statement(SwitchExpr(Switch,
                                        Expr(PrimaryExpr(TypeExpr(Identifier))))))))

# prong

fn fun() noreturn {
  switch (a) {
  1 => one()
  }
}

==>
Program(Decl(FnProto(Identifier,
                     ParamDeclList,
                     TypeExpr(Identifier)),
             Block(Statement(SwitchExpr(Switch,
                                        Expr(PrimaryExpr(TypeExpr(Identifier)))
                                        SwitchProng(SwitchCase(SwitchItem(Expr(PrimaryExpr(TypeExpr(Integer))))),
                                                    Expr(PrimaryExpr(TypeExpr(Identifier,
                                                                              FnCallArgs)))))))))

# else

fn fun() noreturn {
  switch (a) {
  else => one()
  }
}

==>
Program(Decl(FnProto(Identifier,
                     ParamDeclList,
                     TypeExpr(Identifier)),
             Block(Statement(SwitchExpr(Switch,
                                        Expr(PrimaryExpr(TypeExpr(Identifier)))
                                        SwitchProng(SwitchCase(Else),
                                                    Expr(PrimaryExpr(TypeExpr(Identifier,
                                                                              FnCallArgs)))))))))

# expr

const a = switch (tag) {
  .linux => 1,
  else => 2
};

==>
Program(Decl(VarDecl(Const,
                     Name,
                     Expr(PrimaryExpr(TypeExpr(SwitchExpr(Switch,
                                                          Expr(PrimaryExpr(TypeExpr(Identifier))),
                                                          SwitchProng(SwitchCase(SwitchItem(Expr(PrimaryExpr(TypeExpr(Identifier))))),
                                                                      Expr(PrimaryExpr(TypeExpr(Integer)))),
                                                          SwitchProng(SwitchCase(Else),
                                                                      Expr(PrimaryExpr(TypeExpr(Integer)))))))))))
