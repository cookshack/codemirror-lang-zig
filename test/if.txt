# stmnt

fn one(a : u32) u16 {
  if (a == 1)
    return 1;
}

==>
Program(Decl(FnProto(fn,
                     Identifier,
                     ParamDeclList(ParamDecl(Identifier, ParamType(TypeExpr(Identifier)))),
                     TypeExpr(Identifier)),
             Block(Statement(IfStatement(IfPrefix(if, Expr(BinaryExpr(Expr(PrimaryExpr(TypeExpr(Identifier))),
                                                                      CompareOp,
                                                                      Expr(PrimaryExpr(TypeExpr(Integer)))))),
                                         Expr(PrimaryExpr(return, Expr(PrimaryExpr(TypeExpr(Integer))))))))))

# expr

fn main() u8 {
  return if (1 == 0) 3 else 4;
}

==>
Program(Decl(FnProto(fn,Identifier,ParamDeclList,TypeExpr(Identifier)),
             Block(Statement(return, Expr(PrimaryExpr(IfExpr(IfPrefix(if, Expr(BinaryExpr(Expr(PrimaryExpr(TypeExpr(Integer))),
                                                                                          CompareOp,
                                                                                          Expr(PrimaryExpr(TypeExpr(Integer)))))),
                                                             Expr(PrimaryExpr(TypeExpr(Integer))),
                                                             else,
                                                             Expr(PrimaryExpr(TypeExpr(Integer))))))))))

# stmnt with assign in then expr

fn main() noreturn {
  if (1)
    a = 1;
}

==>
Program(Decl(FnProto(fn,Identifier,ParamDeclList,TypeExpr(Identifier)),
             Block(Statement(IfStatement(IfPrefix(if, Expr(PrimaryExpr(TypeExpr(Integer)))),
                                         AssignExpr(Expr(PrimaryExpr(TypeExpr(Identifier))),
                                                    AssignOp,
                                                    Expr(PrimaryExpr(TypeExpr(Integer)))))))))

# type expr

const a : if (b) u32 else u16;

==>
Program(Decl(VarDecl(const,
                     Name,
                     TypeExpr(IfTypeExpr(IfPrefix(if,
                                                  Expr(PrimaryExpr(TypeExpr(Identifier)))),
                                         TypeExpr(Identifier),
                                         else,
                                         TypeExpr(Identifier))))))
